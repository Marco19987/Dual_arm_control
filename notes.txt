
# PERCEPTION RUNNING

RUN MULTIPLE realsense
ros2 launch realsense2_camera rs_launch.py  camera_namespace:="camera_2" usb_port_id:='2-10.1'
ros2 launch realsense2_camera rs_launch.py camera_namespace:="camera_1" usb_port_id:='1-4'

The launch files provided by realsense ros2 driver for multiple cameras doesn't work with automatic serial_no identification (i don't know why).
To overcame this, the specific usb_port_id onto the camera is connected has to be scpecified. 

the launch file in two_realsense.launch.py launch the realsense cameras specifying the usb_port_id; 
ros2 launch dual_arm_control two_realsense.launch.py --show-args

(the following launch file run cameras, aruco detectors and pose conversion servers)
ros2 launch dual_arm_control aruco_detection.launch.py 


# run ARUCO DETECTION Servers
ros2 run uclv_aruco_detection test_server_client  --ros-args -r __ns:=/camera_1
ros2 run uclv_aruco_detection test_server_client  --ros-args -r __ns:=/camera_2

# EKF Server
ros2 run dual_arm_control ekf_server --ros-args -p  robot_1_prefix:="camera_1" -p robot_2_prefix:="camera_2" -p base_frame_name:="camera_1_color_optical_frame" -p alpha_occlusion:=1.5 -p saturation_occlusion:=15.0

ros2 run dual_arm_control test_ekf_client

# TF STATIC CAMERA TRANSFORMS PUBLISHER (for debug)
ros2 launch dual_arm_control launch_static_camera_transform.launch.py 





# util commands
 ros2 run uclv_robot_ros goto 8 /robot1/joint_states 1.57 0 0 0 0 0 0 0 10 --ros-args -r __ns:=/robot1

ros2 run uclv_robot_ros fkine --ros-args -p robot_library_name:=dual_arm_control -p robot_plugin_name:=uclv::robot::MotomanSIA5FExt -p publish_jacobian:=true -r  __ns:=/robot2


# pivoting joint
the pivoting joint has been added in src/robots/*, modify the last robot joint 
with the real position of the end effector, for the moment it is 0.20 cm